<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ã…‹ã…ã…… ì‚¼ì </title>
  <style>
    body {
      background: url('https://byungil-cho.github.io/OrcaX/farm-101.png') no-repeat center center fixed;
      background-size: cover;
      color: white;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 1rem;
    }
    .box {
      background: rgba(0,0,0,0.6);
      padding: 1rem 2rem;
      border-radius: 12px;
      max-width: 800px;
      margin: auto;
    }
    h2 { text-align: center; }
    label, select, button {
      display: block;
      margin: 1rem auto;
      font-size: 1rem;
    }
    button {
      padding: 0.5rem 1rem;
      border-radius: 8px;
      background-color: #4CAF50;
      border: none;
      color: white;
      cursor: pointer;
    }
    .status {
      background: rgba(255,255,255,0.8);
      color: black;
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 1rem;
    }
    .links {
      text-align: center;
      margin-top: 2rem;
    }
    .links a {
      color: #00e6e6;
      margin: 0 1rem;
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div class="box">
    <h2>ğŸŒ¾ ì”¨ê°ì/ì”¨ë³´ë¦¬ êµ¬ë§¤ì†Œ</h2>
    <div class="status">
      <p>ğŸ‘¤ ë‹‰ë„¤ì„: <span id="nickname">-</span></p>
      <p>ğŸ  ë†ì¥ì´ë¦„: <span id="farmName">-</span></p>
      <p>âš¡ ì „ì› ìƒíƒœ: <span id="serverStatus">ë°œê²¬ì¤‘...</span></p>
      <p>ğŸ’² í† í°: <span id="tokens">0</span></p>
      <p>ğŸŒ¾ ì”¨ê°ì: <span id="potatoSeeds">0</span> / ì”¨ë³´ë¦¬: <span id="barleySeeds">0</span></p>
    </div>

    <label for="item">êµ¬ë§¤ í•­ëª© ì„ íƒ:</label>
    <select id="item">
      <option value="ì”¨ê°ì">ğŸŒ¾ ì”¨ê°ì (5 ORCX)</option>
      <option value="ì”¨ë³´ë¦¬">ğŸŒ¾ ì”¨ë³´ë¦¬ (5 ORCX)</option>
    </select>
    <button onclick="buySeed()">êµ¬ë§¤í•˜ê¸°</button>
    <p id="message"></p>

    <div class="links">
      <a href="gamja-farm.html">ã…‹ã…ã……ë†ì¥ìœ¼ë¡œ</a>
      <a href="gamja-exchange.html">ìì¬ êµí™˜ì†Œ</a>
      <a href="index9.html">ë©”ì¸í˜ì´ì§€ë¡œ</a>
    </div>
  </div>

  <script>
    function updateUserData() {
      document.getElementById("nickname").textContent = localStorage.getItem("nickname") || "-";
      document.getElementById("farmName").textContent = localStorage.getItem("farmName") || "-";
      document.getElementById("tokens").textContent = localStorage.getItem("tokens") || 0;
      document.getElementById("potatoSeeds").textContent = localStorage.getItem("ì”¨ê°ì") || 0;
      document.getElementById("barleySeeds").textContent = localStorage.getItem("ì”¨ë³´ë¦¬") || 0;
    }

    function checkServer() {
      fetch("https://climbing-wholly-grouper.jp.ngrok.io/")
        .then(() => {
          document.getElementById("serverStatus").textContent = "ğŸŸ¢ ì—°ê²°ë˜ì—ˆìŒ";
        })
        .catch(() => {
          document.getElementById("serverStatus").textContent = "ğŸ”´ ê±°ë“­";
        });
    }

    function buySeed() {
      const item = document.getElementById("item").value;
      let tokens = parseInt(localStorage.getItem("tokens") || 0);
      if (tokens < 5) {
        document.getElementById("message").textContent = "í† í°ì´ ë‹¤ìŒ";
        return;
      }
      tokens -= 5;
      localStorage.setItem("tokens", tokens);

      let current = parseInt(localStorage.getItem(item) || 0);
      localStorage.setItem(item, current + 1);
      document.getElementById("message").textContent = `${item} 1ê°œ êµ¬ë§¤ ì™„ë£Œ!`;
      updateUserData();
    }

    updateUserData();
    checkServer();
  </script>
</body>
</html>
